2012-05-10  Samuel Thibault  <samuel.thibault@ens-lyon.org>

        * hurd/hurd/fd.h (_hurd_fd_get): Call HURD_CRITICAL_BEGIN/
        HURD_CRITICAL_END around holding _hurd_dtable_lock.
        * sysdeps/mach/hurd/dirfd (dirfd): Likewise.
        * sysdeps/mach/hurd/opendir.c (_hurd_fd_opendir): Call
        HURD_CRITICAL_BEGIN/HURD_CRITICAL_END around holding
        d->port.lock.
